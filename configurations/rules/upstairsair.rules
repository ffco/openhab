import org.openhab.core.library.types.*
import org.joda.time.*

rule "upstairstempdiff"

when
	Item ZOOZ1_PIR_TEMPERATURE_3 received update
then
	var Number hour = now.getHourOfDay
// add current state to make sure you can return state if needed

	if (swFan_Master.state != ON) {
// need to put an if for summer only
		if (now.getHourOfDay() >= 9 || now.getHourOfDay() <= 22) {
			 if (ZOOZ1_PIR_TEMPERATURE_3.state < HVAC_Temperature.state) {
				sendCommand(swFan_Master,ON)
//				logMessage = "upstairs fan on - temp difference"
			}
		}
        }
end

//turn fan off early in the AM
rule "Turn MBR fan off"
when
    Time cron "0 0 4 * * ?"
then
    sendCommand(swFan_Master, OFF)
end
